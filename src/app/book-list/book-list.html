<div class="book-list">
  @let books = books$$();
  <div>
    <form [formGroup]="formFilter">
      <mat-form-field>
        <mat-label>Фильтр</mat-label>
        <input matInput formControlName="filter" />
      </mat-form-field>
      <mat-form-field>
        <mat-label>Тип фильтрации</mat-label>
        <mat-select value="author" formControlName="typeFilter">
          <mat-option value="author">Автор</mat-option>
          <mat-option value="name">Название</mat-option>
        </mat-select>
      </mat-form-field>
    </form>
    <button matButton routerLink="/add-book">Добавить книгу</button>
  </div>
  @if (books) { @for (book of books; track book.id) {
  <mat-card appearance="outlined">
    <mat-card-header>
      <mat-card-title>{{book.name}}</mat-card-title>
      <mat-card-subtitle>{{book.author}}</mat-card-subtitle>
    </mat-card-header>
    <mat-card-content>
      <p>{{book.description}}</p>
    </mat-card-content>
    <mat-card-footer class="example-card-footer">
      <mat-chip-set aria-label="Chihuahua traits">
        @for (genre of book.genre; let i = $index; track i) {
        <mat-chip>{{genre}}</mat-chip>
        }
      </mat-chip-set>
    </mat-card-footer>
    <mat-card-actions align="end">
      <button matButton [routerLink]="'/'+book.id">Узнать больше</button>
    </mat-card-actions>
  </mat-card>
  } }
</div>
